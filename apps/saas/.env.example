###############################################
# ZapPRO – .env.example (WSL + Docker Compose)
#
# Copie para .env e preencha os valores.
# Execução 100% em WSL conforme contratos.
###############################################

## 1) Configurações Obrigatórias

# OPENAI_API_KEY
# Finalidade: habilita IA (chat, TTS, transcribe) nas rotas server.
# Valores aceitáveis: sk-... (chave válida da OpenAI)
# Impacto: sem esta chave, as rotas de IA retornam erro controlado.
# Segurança: NUNCA expor no cliente; usar apenas em rotas server.
OPENAI_API_KEY=
# Stripe – Price ID (client-safe)
NEXT_PUBLIC_STRIPE_PRICE_ID=
# Stripe – Publishable Key (client-safe)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
# Stripe – Pricing Table ID (client-safe)
NEXT_PUBLIC_STRIPE_PRICING_TABLE_ID=
# Stripe – Secret Key (server-only)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Supabase – Service Role Key (server-only)
# Segurança: NUNCA expor no cliente; apenas backend/webhooks.
SUPABASE_SERVICE_ROLE_KEY=
## 2) Configurações Opcionais

# NEXT_PUBLIC_WEBSITE_URL
# Finalidade: URL pública do app (client-side)
# Valores: http://localhost:3001 (padrão WSL) ou URL de produção
# Impacto: links, redirects e recursos públicos
NEXT_PUBLIC_WEBSITE_URL=http://localhost:3001

# NEXT_PUBLIC_APP_URL (igual ao WEBSITE_URL)
NEXT_PUBLIC_APP_URL=http://localhost:3001

# ALLOWED_ORIGIN
# Finalidade: CORS dev para rotas API (preview alternativo)
# Valores: http://localhost:3001 (padrão) ou http://localhost:3002 (preview)
# Impacto: bloqueio/liberação de chamadas em dev
ALLOWED_ORIGIN=http://localhost:3001

# NEXT_PUBLIC_SUPABASE_URL (client)
# Escolha UM cenário:
# a) Supabase CLI local (default): http://localhost:54321
# b) Docker Compose (este repo): http://localhost:8000
NEXT_PUBLIC_SUPABASE_URL=http://localhost:8000

# SUPABASE_URL (server)
# a) CLI: http://localhost:54321
# b) Compose: http://kong:8000 (gateway interno na rede docker)
SUPABASE_URL=http://kong:8000

# NEXT_PUBLIC_SUPABASE_ANON_KEY (client)
# Valor: chave anon fornecida pelo CLI/painel do Supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=
# Persona/Prompt opcional (server-only)
# Finalidade: instrução sistêmica pt-BR do assistente HVAC-R
SYSTEM_INSTRUCTION_PT_BR=
SYSTEM_INSTRUCTION_PT_BR_PATH=prompts/system-instruction.pt-br.md

# Admin (server-only)
# Credenciais padrão (dev/preview): usuário 'admin' com senha 'admin' (hash)
ADMIN_USERNAME=admin
# Em preview/dev você pode usar texto plano 'admin'
ADMIN_PASSWORD_HASH=admin
# Segredo da sessão administrativa (defina forte em produção)
ADMIN_SESSION_SECRET=admin
# Telemetria Next (recomendado desabilitar)
NEXT_TELEMETRY_DISABLED=1

# Porta Next (WSL padrão 3001; alternativa preview 3002)
PORT=3001

## 3) Valores Padrão

# WSL: app dev em 3001; compose web em 3001; PostgREST externo em 3000.
# Preview alternativo: 3002 com ALLOWED_ORIGIN/NEXT_PUBLIC_WEBSITE_URL em http://localhost:3002.

## 4) Exemplos de Uso

# Dev WSL (3001):
# wsl bash -lc "cd /mnt/d/.../apps/saas && PORT=3001 npm run dev"

# Preview WSL (3002):
# wsl bash -lc "cd /mnt/d/.../apps/saas && ALLOWED_ORIGIN=http://localhost:3002 NEXT_PUBLIC_WEBSITE_URL=http://localhost:3002 ./node_modules/.bin/next dev -p 3002"

# Compose Playwright Tests (BASE_URL):
# docker compose run --rm --profile test -e BASE_URL=http://web:3001 tests

# Tavily (Web Search - Fase 4)
TAVILY_API_KEY=tvly-...

# Firecrawl (YouTube Crawling - Fase 4)
FIRECRAWL_API_KEY=fc-...

# Perplexity (Web Search - Fase 4)
# Finalidade: agregar resultados de pesquisa (Perplexity API)
# Valor: pplx-... (chave da API Perplexity)
PERPLEXITY_API_KEY=

# Fake Auth (dev/preview)
# Finalidade: permitir login sem Supabase (apenas dev/local)
NEXT_PUBLIC_FAKE_AUTH_EMAIL=test@test.com
NEXT_PUBLIC_FAKE_AUTH_PASSWORD=12345678A
