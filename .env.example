###############################################
# ZapPRO – .env.example (WSL + Docker Compose)
#
# Copie para .env e preencha os valores.
# Execução 100% em WSL conforme contratos.
###############################################

## 1) Configurações Obrigatórias

# OPENAI_API_KEY
# Finalidade: habilita IA (chat, TTS, transcribe) nas rotas server.
# Valores aceitáveis: sk-... (chave válida da OpenAI)
# Impacto: sem esta chave, as rotas de IA retornam erro controlado.
# Segurança: NUNCA expor no cliente; usar apenas em rotas server.
OPENAI_API_KEY="sk-proj-e9SLGOzfGxSTxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxF-t-zepXc-HGsYniYMjU0HmqERaIfVkIT3BlbkFJZsNAHDSmiVDtkGWQvnyeEQBNookXJH8zrVy337iR9heYmFY9suh2tcMYKoxcmXSfCbLRvlFjoA"
# Stripe – Price ID (client-safe)
NEXT_PUBLIC_STRIPE_PRICE_ID=price_XXXXXXXXXXXX
# Stripe – Publishable Key (client-safe)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_51SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxMo6Ag8IV9YFu9vwwWL9cx4z2creBWGVs1neucgEyli7zVdBBnhEnM6KdZdJjwp00XdEnR17d"
# Stripe – Pricing Table ID (client-safe)
NEXT_PUBLIC_STRIPE_PRICING_TABLE_ID=
# Stripe – Payment Link URL (client-safe)
NEXT_PUBLIC_STRIPE_PAYMENT_LINK_URL=https://buy.stripe.com/fZu6oAg3lbpG63u38aeZ200
# Mcp Stripe (server-only)
STRIPE_API_KEY="sk_test_51SK3IB2ebAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxs1kS0DTsrdZAloaHSBV9zbg897XYW4qRf3YmSAwSPh92UeMiWyEY00h6hr2vLp"
# Stripe – Webhook Secret (server-only)
STRIPE_WEBHOOK_SECRET="whsec_LexxxxxxxxxxxxxxxxxxxxxxxxxB39QK1wHnnMRU"
# Compatibilidade com rotas que usam STRIPE_SECRET_KEY
STRIPE_SECRET_KEY="sk_test_51SK3IB2ebAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxs1kS0DTsrdZAloaHSBV9zbg897XYW4qRf3YmSAwSPh92UeMiWyEY00h6hr2vLp"
# Supabase – Service Role Key (server-only)
# Segurança: NUNCA expor no cliente; apenas backend/webhooks.
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInRxxxxxxxxxxxxxxxxxxxxxxxxxx9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNkcG1iamJieXl3dWZtcXhnenJhIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2Mzk1NzU4NywiZXhwIjoyMDc5NTMzNTg3fQ.rbucmoSIyQ64HqHwdmGnl1IN-E0H4M8FwBwdHD8D0io"
## 2) Configurações Opcionais
NEXT_PUBLIC_USE_PAYMENT_ELEMENT=true
# NEXT_PUBLIC_WEBSITE_URL
# Finalidade: URL pública do app (client-side)
# Valores: http://localhost:3001 (padrão WSL) ou URL de produção
# Impacto: links, redirects e recursos públicos
NEXT_PUBLIC_WEBSITE_URL=http://localhost:3001

# NEXT_PUBLIC_APP_URL (igual ao WEBSITE_URL)
NEXT_PUBLIC_APP_URL=http://localhost:3001

# ALLOWED_ORIGIN
# Finalidade: CORS dev para rotas API (preview alternativo)
# Valores: http://localhost:3001 (padrão) ou http://localhost:3002 (preview)
# Impacto: bloqueio/liberação de chamadas em dev
ALLOWED_ORIGIN=http://localhost:3001

# NEXT_PUBLIC_SUPABASE_URL (client)
# Escolha UM cenário:
# a) Supabase CLI local (default): http://localhost:54321
# b) Docker Compose (este repo): http://localhost:8000
NEXT_PUBLIC_SUPABASE_URL=http://localhost:8000

# SUPABASE_URL (server)
# a) CLI: http://localhost:54321
# b) Compose: http://kong:8000 (gateway interno na rede docker)
SUPABASE_URL=http://kong:8000

# NEXT_PUBLIC_SUPABASE_ANON_KEY (client)
# Valor: chave anon fornecida pelo CLI/painel do Supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhI6IkpXVCJxxxxxxxxxxxxxxxxxxxxxx9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNkcG1iamJieXl3dWZtcXhnenJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5NTc1ODcsImV4cCI6MjA3OTUzMzU4N30.rQ6gF-gBeMwgQTRxGTqbsSP4HOXdo4SOWEVq1uBgq54"
# Persona/Prompt opcional (server-only)
# Finalidade: instrução sistêmica pt-BR do assistente HVAC-R
SYSTEM_INSTRUCTION_PT_BR=
SYSTEM_INSTRUCTION_PT_BR_PATH=prompts/system-instruction.pt-br.md

# Admin (server-only)
# Credenciais padrão (dev/preview): usuário 'admin' com senha 'admin' (hash)
ADMIN_USERNAME=admin
# Em preview/dev você pode usar texto plano 'admin'
ADMIN_PASSWORD_HASH=admin
# Segredo da sessão administrativa (defina forte em produção)
ADMIN_SESSION_SECRET=admin
# Telemetria Next (recomendado desabilitar)
NEXT_TELEMETRY_DISABLED=1

# Porta Next (WSL padrão 3001; alternativa preview 3002)
PORT=3001

## 3) Valores Padrão

# WSL: app dev em 3001; compose web em 3001; PostgREST externo em 3000.
# Preview alternativo: 3002 com ALLOWED_ORIGIN/NEXT_PUBLIC_WEBSITE_URL em http://localhost:3002.

## 4) Exemplos de Uso

# Dev WSL (3001):
# wsl bash -lc "cd /mnt/d/.../apps/saas && PORT=3001 npm run dev"

# Preview WSL (3002):
# wsl bash -lc "cd /mnt/d/.../apps/saas && ALLOWED_ORIGIN=http://localhost:3002 NEXT_PUBLIC_WEBSITE_URL=http://localhost:3002 ./node_modules/.bin/next dev -p 3002"

# Compose Playwright Tests (BASE_URL):
# docker compose run --rm --profile test -e BASE_URL=http://web:3001 tests

# Tavily (Web Search - Fase 4)
TAVILY_API_KEY="tvly-dxxxxxxxxxeHHhw37HrzDxRAAq"

# Firecrawl (YouTube Crawling - Fase 4)
FIRECRAWL_API_KEY="fc-776xxxxxxx95c6cd769b7"

# Perplexity (Web Search - Fase 4)
# Finalidade: agregar resultados de pesquisa (Perplexity API)
# Valor: pplx-... (chave da API Perplexity)
PERPLEXITY_API_KEY="pplx-1b2xxxxxxxxxxxkfgb1oslXzSqyEsitZC0xsCX1"

# Fake Auth (dev/preview)
# Finalidade: permitir login sem Supabase (apenas dev/local)
NEXT_PUBLIC_FAKE_AUTH_EMAIL=test@test.com
NEXT_PUBLIC_FAKE_AUTH_PASSWORD=12345678A
SUPABASE_ACCESS_TOKEN="K/1cyKkwoEtl554WxxxxxxxxxA6dQBtbypx1yRkAB1sStOMi4ZTohpgGhsI0vXPBm50Eg=="

# Variáveis para redis cache .env
REDIS_URL="rediss://default:AXQ6AAImcDDzNcDr%FhzWxxxxxxxxxxxxYjJmNfTJxUDh1OHAyMjk2MJ@upward-trout-29626.upstash.io:6379"
REDIS_TLS=true
CACHE_TTL_SECONDS=900
REDIS_HOST="upward-trout-29626.upstash.io"
REDIS_PORT=6379
REDIS_PASSWORD="AXQ6AxxxxxxllYjJmNfTJxUDh1OHAyMjk2MJ"   

# Variáveis para redis cache http .env
UPSTASH_REDIS_REST_URL="https://upward-trout-29626.upstash.io"
UPSTASH_REDIS_REST_TOKEN="AXQ6AAIxxxxxxx2llYjJmNfTJxUDh1OHAyMjk2MJ"

CACHE_TTL_SECONDS=900

# RAG (parâmetros e índices)
RAG_MATCH_THRESHOLD=0.72
RAG_MATCH_COUNT=10
RAG_DISTANCE_OP=cosine
RAG_INDEX_TYPE=ivfflat
RAG_LISTS=100
RAG_PROBES=10
